<!DOCTYPE html><html lang=de> <head><title>VHDL Übung 7 - Testbench</title><link rel=icon href=https://www.semiversus.com/favicon.ico><meta charset=utf-8><meta name=description content="Übungsaufgabe In dieser Übung geht es um Testbenches. Vorbereitung Projektordner herunterladen und entpacken Projekt testbench.xise öffnen Schreiben der Testbench Spezifikation Die Komponente shifter soll folgender Spezifikation entsprechen Die Komponente hat einen Ausgangsvektor leds_o mit 4 Bit Breite Nach dem Reset bzw. nach der Initialisierung wird " 0001" auf leds_o ausgegeben ..."><meta name=author content="Günther Jena"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=google-site-verification content=O-3LVEziPiVrCYqFCwbLmB3s7lNG__cPMLLAr_RUxbA><meta name=msvalidate.01 content=70DFF0E672B42811AA384CC455C9406C><link rel=stylesheet href=https://www.semiversus.com/theme/css/semiversus.min.css?f7108c59><script async src=https://www.semiversus.com/theme/js/semiversus.min.js?c02fe949></script></head> <body data-spy=scroll data-target=#sidebar data-offset=30> <div id=wrap> <nav class="navbar navbar-inverse"> <div class=container> <div class=navbar-header> <button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=.navbar-collapse> <span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span> </button> <a href=https://www.semiversus.com/index.html class=navbar-brand>SEMIVERSUS</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li><a href=https://www.semiversus.com/index.html>Blog</a></li> <li><a href=https://www.semiversus.com/dic/uebersicht.html>Unterricht</a></li> <li><a href=https://www.semiversus.com/projekte/projekte.html>Projekte</a></li> <li><a href=https://www.semiversus.com/about.html>Über mich</a></li> </ul> <form class="navbar-form navbar-right" role=search action=https://www.semiversus.com/search.html onsubmit="return validateForm(this.elements['q'].value);"> <input type=text class=form-control placeholder=Suche name=q id=tipue_search_input></form> <ul class="nav navbar-nav navbar-right socialicons"> <li><a href=https://www.linkedin.com/in/guenther-jena data-toggle=tooltip data-placement=bottom title=LinkedIn.com/Günther-Jena><span class="linkedin icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Linkedin</span></a></li> <li><a href=https://www.xing.com/profile/Guenther_Jena2 data-toggle=tooltip data-placement=bottom title=Xing.com/Günther-Jena><span class="xing icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Xing</span></a></li> <li><a href=https://stackoverflow.com/users/166605/g%C3%BCnther-jena data-toggle=tooltip data-placement=bottom title=Stackoverflow.com/Semiversus><span class="stackoverflow icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Stack Overflow</span></a></li> <li><a href=https://github.com/semiversus data-toggle=tooltip data-placement=bottom title=Github.com/Semiversus><span class="github icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Github</span></a></li> <li><a href=https://www.semiversus.com/semiversus.atom.xml class=rss data-toggle=tooltip data-placement=bottom title="RSS Feed"><span class="rss icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">RSS Feed</span></a></li> </ul> </div> </div> </nav> <div class=container> <div class=visible-print-block>Semiversus | VHDL Übung 7 - Testbench</div> <ol class="breadcrumb hidden-print"><li><a href=https://www.semiversus.com/dic/uebersicht.html>Unterrichtsmaterial</a></li><li><a href=https://www.semiversus.com/dic/programmierbare_logik/uebersicht.html>Programmierbare Logik</a></li><li><strong>VHDL Übung 7 - Testbench</strong></li></ol><nav class=hidden-print><ul class=pager> <li class=previous><a href=https://www.semiversus.com/dic/programmierbare_logik/uebung6.html>&larr; VHDL Übung 6 - Clicker</a></li></ul></nav> <div class=row> <div class=col-md-8 role=main> <header><h1>VHDL Übung 7 - Testbench<div class="pull-right hidden-print"><a href=https://www.semiversus.com/dic/programmierbare_logik/uebung7.md class="btn btn-default btn-xs" data-toggle=tooltip data-placement=bottom title="Quelltext zu dieser Seite">Quelltext</a></div></h1></header> <h2 id=ubungsaufgabe>&Uuml;bungsaufgabe</h2> <p>In dieser &Uuml;bung geht es um Testbenches.</p> <h2 id=vorbereitung>Vorbereitung</h2> <ul> <li><a class=download href=https://www.semiversus.com/dic/programmierbare_logik/vhdl_uebung_7.zip>Projektordner</a> herunterladen und entpacken</li> <li>Projekt <code>testbench.xise</code> &ouml;ffnen</li> </ul> <h2 id=schreiben-der-testbench>Schreiben der Testbench</h2> <h3 id=spezifikation>Spezifikation</h3> <p>Die Komponente <code>shifter</code> soll folgender Spezifikation entsprechen</p> <ul> <li>Die Komponente hat einen Ausgangsvektor <code>leds_o</code> mit 4 Bit Breite</li> <li>Nach dem Reset bzw. nach der Initialisierung wird <code>"0001"</code> auf <code>leds_o</code> ausgegeben.</li> <li>Ist w&auml;hrend einer steigenden Taktflanke an <code>clk_i</code> der Eingang <code>up_i</code> aktiv sollen die Ausg&auml;nge in folgender Reihenfolge wechseln: <code>"0010"</code>, <code>"0100"</code>, <code>"1000"</code> und dann wieder <code>"0001"</code></li> <li>Ist w&auml;hrend einer steigenden Taktflanke an <code>clk_i</code> der Eingang <code>down_i</code> aktiv sollen die Ausg&auml;nge in folgender Reihenfolge wechseln: <code>"1000"</code>, <code>"0100"</code>, <code>"0010"</code> und dann wieder <code>"0001"</code></li> <li><code>down_i</code> hat die h&ouml;here Priorit&auml;t wie <code>up_i</code></li> <li>Ist weder <code>up_i</code> noch <code>down_i</code> aktiv, soll sich der Ausgang nicht ver&auml;ndern</li> <li>Der Eingang <code>reset_i</code> f&uuml;hrt einen asynchronen Reset aus und dies hat die h&ouml;chste Priorit&auml;t</li> </ul> <h3 id=schreiben-der-testbench_1>Schreiben der Testbench</h3> <p>Erweitere die Datei <samp>shifter_tb.vhd</samp>.</p> <ul> <li>Mittels <code>assert</code> k&ouml;nnen Bedingungen gepr&uuml;ft werden.</li> <li>Mittels <code>wait for</code> kann f&uuml;r eine bestimmte Zeit gewartet werden.</li> </ul> <p>Beispiel:</p> <div class=codehilite><pre><span></span><span class=k>wait</span> <span class=k>for</span> <span class=mi>10</span> <span class=n>ns</span><span class=p>;</span>
<span class=k>assert</span> <span class=n>leds_o</span><span class=o>=</span><span class=s>"0001"</span> <span class=n>report</span> <span class=s>"Nach dem Reset sollte der Ausgang auf 0001 sein"</span><span class=p>;</span>
</pre></div> <p>Der Teil mit <code>report</code> ist optional. Ein <code>wait for 0 ns</code> wertet einmal alle Signale aus, dies hilft oft direkt nach dem Start der Simulation (unmittelbar nach dem Start sind alle Signale <em>uninitialised</em>-<code>'U'</code>).</p> <h3 id=prufen-der-testbench>Pr&uuml;fen der Testbench</h3> <p>F&uuml;r die Komponente <code>shifter</code> stehen vier verschiedene Implementierungen zur Verf&uuml;gung (<em>architectures</em>). Die Testbench soll erkennen, welcher der vier Implementierungen funktioniert.</p> <p>Die Testbenches hei&szlig;en <code>behave1</code>, <code>behave2</code>, <code>behave3</code> und <code>behave4</code>.</p> </div> <div class=col-md-4 role=complementary> <nav class="well well-sm" data-spy=affix data-offset-top=0 id=sidebar> <ul class=nav><li><a href=#ubungsaufgabe>&Uuml;bungsaufgabe</a></li><li><a href=#vorbereitung>Vorbereitung</a></li><li><a href=#schreiben-der-testbench>Schreiben der Testbench</a><ul class=nav><li><a href=#spezifikation>Spezifikation</a></li><li><a href=#schreiben-der-testbench_1>Schreiben der Testbench</a></li><li><a href=#prufen-der-testbench>Pr&uuml;fen der Testbench</a></li></ul></li></ul> </nav> </div> </div> </div> </div> <footer class="footer hidden-print"><div class=container><p class="text-muted credit">Günther Jena 2011 - 2020 | Letztes Update am 20.9.2020 (Rev. <a href=https://github.com/semiversus/semiversus.github.io-source/commit/ffdbb85>ffdbb85</a>) <a href=https://plus.google.com/111972313670421914746/about rel=author class=hidden>Google+</a><a href=https://creativecommons.org/licenses/by-sa/3.0/de/ class=pull-right><img src=https://www.semiversus.com/theme/img/cc_by_sa.svg alt="Licence CC-BY-SA"></a></p></div></footer> <script type=text/javascript>
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.src = 'https:' == document.location.protocol ? 'https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML' : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; 
        s[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" + 
            "    config: ['MMLorHTML.js']," + 
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS','output/NativeMML']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," + 
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    tex2jax: { " +
            "        inlineMath: [ ['%%','%%'] ], " +
            "        processEscapes: false }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax .mo, .MathJax .mi': {color: 'black ! important'}} " +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(s);
    </script> </body> </html>