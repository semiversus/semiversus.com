<!DOCTYPE html><html lang=de> <head><title>VHDL Übung 1 - Kombinatorische Logik</title><link rel=icon href=https://www.semiversus.com/favicon.ico><meta charset=utf-8><meta name=description content="Übungsaufgabe In dieser Übung wird das BASYS2 Board verwendet Für weitere Fragen zum Board bitte das Manual konsultieren. In dieser Übung nutzen wir vier Schalter des BASYS2 Boards (SW0 bis SW3) um damit eine 4 Bit Zahl einzugeben. Im FPGA soll eine Kombinatorik entworfen werden, um mittels dieser 4 ..."><meta name=author content="Günther Jena"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=google-site-verification content=O-3LVEziPiVrCYqFCwbLmB3s7lNG__cPMLLAr_RUxbA><meta name=msvalidate.01 content=70DFF0E672B42811AA384CC455C9406C><link rel=stylesheet href=https://www.semiversus.com/theme/css/semiversus.min.css?f7108c59><script async src=https://www.semiversus.com/theme/js/semiversus.min.js?c02fe949></script></head> <body data-spy=scroll data-target=#sidebar data-offset=30> <div id=wrap> <nav class="navbar navbar-inverse"> <div class=container> <div class=navbar-header> <button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=.navbar-collapse> <span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span> </button> <a href=https://www.semiversus.com/index.html class=navbar-brand>SEMIVERSUS</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li><a href=https://www.semiversus.com/index.html>Blog</a></li> <li><a href=https://www.semiversus.com/dic/uebersicht.html>Unterricht</a></li> <li><a href=https://www.semiversus.com/projekte/projekte.html>Projekte</a></li> <li><a href=https://www.semiversus.com/about.html>Über mich</a></li> </ul> <form class="navbar-form navbar-right" role=search action=https://www.semiversus.com/search.html onsubmit="return validateForm(this.elements['q'].value);"> <input type=text class=form-control placeholder=Suche name=q id=tipue_search_input></form> <ul class="nav navbar-nav navbar-right socialicons"> <li><a href=https://www.linkedin.com/in/guenther-jena data-toggle=tooltip data-placement=bottom title=LinkedIn.com/Günther-Jena><span class="linkedin icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Linkedin</span></a></li> <li><a href=https://www.xing.com/profile/Guenther_Jena2 data-toggle=tooltip data-placement=bottom title=Xing.com/Günther-Jena><span class="xing icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Xing</span></a></li> <li><a href=https://stackoverflow.com/users/166605/g%C3%BCnther-jena data-toggle=tooltip data-placement=bottom title=Stackoverflow.com/Semiversus><span class="stackoverflow icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Stack Overflow</span></a></li> <li><a href=https://github.com/semiversus data-toggle=tooltip data-placement=bottom title=Github.com/Semiversus><span class="github icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Github</span></a></li> <li><a href=https://www.semiversus.com/semiversus.atom.xml class=rss data-toggle=tooltip data-placement=bottom title="RSS Feed"><span class="rss icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">RSS Feed</span></a></li> </ul> </div> </div> </nav> <div class=container> <div class=visible-print-block>Semiversus | VHDL Übung 1 - Kombinatorische Logik</div> <ol class="breadcrumb hidden-print"><li><a href=https://www.semiversus.com/dic/uebersicht.html>Unterrichtsmaterial</a></li><li><a href=https://www.semiversus.com/dic/programmierbare_logik/uebersicht.html>Programmierbare Logik</a></li><li><strong>VHDL Übung 1 - Kombinatorische Logik</strong></li></ol><nav class=hidden-print><ul class=pager> <li class=next><a href=https://www.semiversus.com/dic/programmierbare_logik/uebung2.html>VHDL Übung 2 - Blink &rarr;</a></li></ul></nav> <div class=row> <div class=col-md-8 role=main> <header><h1>VHDL Übung 1 - Kombinatorische Logik<div class="pull-right hidden-print"><a href=https://www.semiversus.com/dic/programmierbare_logik/uebung1.md class="btn btn-default btn-xs" data-toggle=tooltip data-placement=bottom title="Quelltext zu dieser Seite">Quelltext</a></div></h1></header> <h2 id=ubungsaufgabe>&Uuml;bungsaufgabe</h2> <div class="panel panel-info"> <div class=panel-heading>In dieser &Uuml;bung wird das BASYS2 Board verwendet</div> <div class=panel-body> <p>F&uuml;r weitere Fragen zum Board bitte das <a class=download href=https://www.semiversus.com/dic/programmierbare_logik/basys2_manual.pdf>Manual</a> konsultieren.</p> </div> </div> <p>In dieser &Uuml;bung nutzen wir vier Schalter des BASYS2 Boards (SW0 bis SW3) um damit eine 4 Bit Zahl einzugeben. Im FPGA soll eine Kombinatorik entworfen werden, um mittels dieser 4 Bit Zahl eine 7 Segment Anzeige anzusteuern.</p> <table> <thead> <tr> <th align=center>SW3</th> <th align=center>SW2</th> <th align=center>SW1</th> <th align=center>SW0</th> <th align=center>Ausgabe auf der 7 Segment Anzeige</th> </tr> </thead> <tbody> <tr> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>0</td> </tr> <tr> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>1</td> </tr> <tr> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>2</td> </tr> <tr> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>3</td> </tr> <tr> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>4</td> </tr> <tr> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>5</td> </tr> <tr> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>6</td> </tr> <tr> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>7</td> </tr> <tr> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>8</td> </tr> <tr> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>9</td> </tr> </tbody> </table> <h2 id=vorbereitung>Vorbereitung</h2> <ul> <li><a class=download href=https://www.semiversus.com/dic/programmierbare_logik/vhdl_uebung_1.zip>Projektordner</a> herunterladen und entpacken</li> <li>Projekt <code>seven_segments.xise</code> &ouml;ffnen</li> </ul> <h2 id=top-level-seven_segmentsvhd>Top Level <code>seven_segments.vhd</code></h2> <p><code>seven_segments.vhd</code> ist das Top Level Design und definiert die oberste Ebene, d.h. diese Entity beschreibt mit ihrer <code>port</code>-Direktive die Pins des FPGA Bausteins.</p> <div class=codehilite><pre><span></span><span class=k>library</span> <span class=nn>ieee</span><span class=p>;</span>
<span class=k>use</span> <span class=nn>ieee.std_logic_1164.</span><span class=k>all</span><span class=p>;</span>

<span class=k>entity</span> <span class=nc>seven_segment</span> <span class=k>is</span>
  <span class=k>port</span> <span class=p>(</span>
    <span class=n>switches_i</span> <span class=o>:</span> <span class=k>in</span> <span class=kt>std_ulogic_vector</span><span class=p>(</span><span class=mi>3</span> <span class=k>downto</span> <span class=mi>0</span><span class=p>);</span>
    <span class=n>an_o</span> <span class=o>:</span> <span class=k>out</span> <span class=kt>std_ulogic_vector</span><span class=p>(</span><span class=mi>3</span> <span class=k>downto</span> <span class=mi>0</span><span class=p>);</span>
    <span class=n>segments_o</span> <span class=o>:</span> <span class=k>out</span> <span class=kt>std_ulogic_vector</span><span class=p>(</span><span class=mi>6</span> <span class=k>downto</span> <span class=mi>0</span><span class=p>)</span> <span class=c1>-- segments "ABCDEFG"</span>
  <span class=p>);</span>
<span class=k>end</span> <span class=k>entity</span><span class=p>;</span>

<span class=k>architecture</span> <span class=nc>behave</span> <span class=k>of</span> <span class=nc>seven_segment</span> <span class=k>is</span>
<span class=k>begin</span>
  <span class=k>with</span> <span class=n>switches_i</span> <span class=k>select</span> <span class=n>segments_o</span> <span class=o>&lt;=</span>
    <span class=s>"0000001"</span> <span class=k>when</span> <span class=s>"0000"</span><span class=p>,</span> <span class=c1>-- display 0</span>
    <span class=s>"1001111"</span> <span class=k>when</span> <span class=s>"0001"</span><span class=p>,</span> <span class=c1>-- display 1</span>
    <span class=c1>-- ...</span>
    <span class=s>"1111111"</span> <span class=k>when</span> <span class=k>others</span><span class=p>;</span>

  <span class=n>an_o</span> <span class=o>&lt;=</span> <span class=s>"0111"</span><span class=p>;</span>
<span class=k>end</span> <span class=k>architecture</span><span class=p>;</span>
</pre></div> <h3 id=pinout>Pinout</h3> <p>Die Signale <code>switches_i</code>, <code>an_o</code> und <code>segments_o</code> finden sich im folgenden Pinout des BASYS2 Boards: <figure><img src=https://www.semiversus.com/dic/programmierbare_logik/basys2_pinout.svg><figcaption>Pinout des BASYS2 Boards(Bild: <a href="http://www.digilentinc.com/Products/Detail.cfm?NavPath=2,400,790&Prod=BASYS2">Digilent Inc. BASYS2 Manual</a>)</figcaption></figure></p> <p>Das Pinout wird in der Datei <code>seven_segments.ucf</code> beschrieben. F&uuml;r dieses VHDL Modell sieht es wie folgt aus:</p> <div class=codehilite><pre><span></span>NET <span class=s2>"switches_i(3)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"B4"</span><span class=p>;</span>
NET <span class=s2>"switches_i(2)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"K3"</span><span class=p>;</span>
NET <span class=s2>"switches_i(1)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"L3"</span><span class=p>;</span>
NET <span class=s2>"switches_i(0)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"P11"</span><span class=p>;</span>

NET <span class=s2>"an_o(3)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"K14"</span><span class=p>;</span> <span class=c1># driver for left most display</span>
NET <span class=s2>"an_o(2)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"M13"</span><span class=p>;</span>
NET <span class=s2>"an_o(1)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"J12"</span><span class=p>;</span>
NET <span class=s2>"an_o(0)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"F12"</span><span class=p>;</span> <span class=c1># driver for right most display</span>

NET <span class=s2>"segments_o(6)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"L14"</span><span class=p>;</span> <span class=c1># segment A</span>
NET <span class=s2>"segments_o(5)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"H12"</span><span class=p>;</span> <span class=c1># segment B</span>
NET <span class=s2>"segments_o(4)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"N14"</span><span class=p>;</span> <span class=c1># segment C</span>
NET <span class=s2>"segments_o(3)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"N11"</span><span class=p>;</span> <span class=c1># segment D</span>
NET <span class=s2>"segments_o(2)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"P12"</span><span class=p>;</span> <span class=c1># segment E</span>
NET <span class=s2>"segments_o(1)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"L13"</span><span class=p>;</span> <span class=c1># segment F</span>
NET <span class=s2>"segments_o(0)"</span> <span class=nv>LOC</span> <span class=o>=</span> <span class=s2>"M12"</span><span class=p>;</span> <span class=c1># segment G</span>
</pre></div> <h3 id=7-segment-anzeige>7-Segment Anzeige</h3> <p>In der folgenden Abbildung sieht man die Anordnung der einzelnen Segmente: <figure><img src=https://www.semiversus.com/dic/programmierbare_logik/basys2_7segment.svg><figcaption>7-Segment Anzeige des BASYS2 Boards(Bild: <a href="http://www.digilentinc.com/Products/Detail.cfm?NavPath=2,400,790&Prod=BASYS2">Digilent Inc. BASYS2 Manual</a>)</figcaption></figure></p> <h2 id=aufgabe-1-erweitern-der-kombinatorischen-beschreibung_1>Aufgabe 1 - Erweitern der kombinatorischen Beschreibung</h2> <div class=codehilite><pre><span></span><span class=k>with</span> <span class=n>switches_i</span><span class=p>(</span><span class=mi>3</span> <span class=k>downto</span> <span class=mi>0</span><span class=p>)</span> <span class=k>select</span> <span class=n>segments_o</span> <span class=o>&lt;=</span>
  <span class=s>"0000001"</span> <span class=k>when</span> <span class=s>"0000"</span><span class=p>,</span> <span class=c1>-- digit 0</span>
  <span class=s>"1001111"</span> <span class=k>when</span> <span class=s>"0001"</span><span class=p>,</span> <span class=c1>-- digit 1</span>
  <span class=c1>-- ...</span>
  <span class=s>"1111111"</span> <span class=k>when</span> <span class=k>others</span><span class=p>;</span>
</pre></div> <p>Die kombinatorische Beschreibung ist nicht vollst&auml;ndig. Das Ziel ist es die Kombinatorik entsprechend um die Anzeige der Werte 2 bis 9 zu erweitern.</p> <h2 id=aufgabe-2-test-auf-dem-board>Aufgabe 2 - Test auf dem Board</h2> <p>Das Projekt soll synthetisiert und auf dem Board getestet werden.</p> <h2 id=aufgabe-3-erweiterung-um-die-darstellung-von-hexadezimalzahlen>Aufgabe 3 - Erweiterung um die Darstellung von Hexadezimalzahlen</h2> <table> <thead> <tr> <th align=center>SW3</th> <th align=center>SW2</th> <th align=center>SW1</th> <th align=center>SW0</th> <th align=center>Ausgabe auf der 7 Segment Anzeige</th> </tr> </thead> <tbody> <tr> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>A</td> </tr> <tr> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>B</td> </tr> <tr> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>Aus</td> <td align=center>C</td> </tr> <tr> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>Ein</td> <td align=center>D</td> </tr> <tr> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>Aus</td> <td align=center>E</td> </tr> <tr> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>Ein</td> <td align=center>F</td> </tr> </tbody> </table> <ul> <li>&Uuml;berlege dir, wie die einzelnen Segmente angesteuert werden sollen, um die Buchstaben <code>A</code> bis <code>F</code> darzustellen.</li> <li>Teste das Design auf dem BASYS2 Board</li> </ul> </div> <div class=col-md-4 role=complementary> <nav class="well well-sm" data-spy=affix data-offset-top=0 id=sidebar> <ul class=nav><li><a href=#ubungsaufgabe>&Uuml;bungsaufgabe</a></li><li><a href=#vorbereitung>Vorbereitung</a></li><li><a href=#top-level-seven_segmentsvhd>Top Level seven_segments.vhd</a><ul class=nav><li><a href=#pinout>Pinout</a></li><li><a href=#7-segment-anzeige>7-Segment Anzeige</a></li></ul></li><li><a href=#aufgabe-1-erweitern-der-kombinatorischen-beschreibung_1>Aufgabe 1 - Erweitern der kombinatorischen Beschreibung</a></li><li><a href=#aufgabe-2-test-auf-dem-board>Aufgabe 2 - Test auf dem Board</a></li><li><a href=#aufgabe-3-erweiterung-um-die-darstellung-von-hexadezimalzahlen>Aufgabe 3 - Erweiterung um die Darstellung von Hexadezimalzahlen</a></li></ul> </nav> </div> </div> </div> </div> <footer class="footer hidden-print"><div class=container><p class="text-muted credit">Günther Jena 2011 - 2020 | Letztes Update am 20.9.2020 (Rev. <a href=https://github.com/semiversus/semiversus.github.io-source/commit/ffdbb85>ffdbb85</a>) <a href=https://plus.google.com/111972313670421914746/about rel=author class=hidden>Google+</a><a href=https://creativecommons.org/licenses/by-sa/3.0/de/ class=pull-right><img src=https://www.semiversus.com/theme/img/cc_by_sa.svg alt="Licence CC-BY-SA"></a></p></div></footer> <script type=text/javascript>
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.src = 'https:' == document.location.protocol ? 'https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML' : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; 
        s[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" + 
            "    config: ['MMLorHTML.js']," + 
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS','output/NativeMML']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," + 
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    tex2jax: { " +
            "        inlineMath: [ ['%%','%%'] ], " +
            "        processEscapes: false }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax .mo, .MathJax .mi': {color: 'black ! important'}} " +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(s);
    </script> </body> </html>