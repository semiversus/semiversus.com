<!DOCTYPE html><html lang=de> <head><title>Register</title><link rel=icon href=https://www.semiversus.com/favicon.ico><meta charset=utf-8><meta name=description content="Allgemeines Register dienen in der Digitaltechnik dazu, Werte zu speichern. Register können durch verschiedene Arten von Flip-Flops realisiert werden (siehe sequentielle Logik). Register mit Reset Name für das Reset Signal Wie beim Taktsignal steht es dem Entwickler frei, einen Namen für das Resetsignal zu wählen. In ..."><meta name=author content="Günther Jena"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=google-site-verification content=O-3LVEziPiVrCYqFCwbLmB3s7lNG__cPMLLAr_RUxbA><meta name=msvalidate.01 content=70DFF0E672B42811AA384CC455C9406C><link rel=stylesheet href=https://www.semiversus.com/theme/css/semiversus.min.css?f7108c59><script async src=https://www.semiversus.com/theme/js/semiversus.min.js?c02fe949></script></head> <body data-spy=scroll data-target=#sidebar data-offset=30> <div id=wrap> <nav class="navbar navbar-inverse"> <div class=container> <div class=navbar-header> <button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=.navbar-collapse> <span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span> </button> <a href=https://www.semiversus.com/index.html class=navbar-brand>SEMIVERSUS</a> </div> <div class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li><a href=https://www.semiversus.com/index.html>Blog</a></li> <li><a href=https://www.semiversus.com/dic/uebersicht.html>Unterricht</a></li> <li><a href=https://www.semiversus.com/projekte/projekte.html>Projekte</a></li> <li><a href=https://www.semiversus.com/about.html>Über mich</a></li> </ul> <form class="navbar-form navbar-right" role=search action=https://www.semiversus.com/search.html onsubmit="return validateForm(this.elements['q'].value);"> <input type=text class=form-control placeholder=Suche name=q id=tipue_search_input></form> <ul class="nav navbar-nav navbar-right socialicons"> <li><a href=https://www.linkedin.com/in/guenther-jena data-toggle=tooltip data-placement=bottom title=LinkedIn.com/Günther-Jena><span class="linkedin icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Linkedin</span></a></li> <li><a href=https://www.xing.com/profile/Guenther_Jena2 data-toggle=tooltip data-placement=bottom title=Xing.com/Günther-Jena><span class="xing icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Xing</span></a></li> <li><a href=https://stackoverflow.com/users/166605/g%C3%BCnther-jena data-toggle=tooltip data-placement=bottom title=Stackoverflow.com/Semiversus><span class="stackoverflow icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Stack Overflow</span></a></li> <li><a href=https://github.com/semiversus data-toggle=tooltip data-placement=bottom title=Github.com/Semiversus><span class="github icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">Github</span></a></li> <li><a href=https://www.semiversus.com/semiversus.atom.xml class=rss data-toggle=tooltip data-placement=bottom title="RSS Feed"><span class="rss icon hidden-xs"></span><span class="hidden-sm hidden-md hidden-lg">RSS Feed</span></a></li> </ul> </div> </div> </nav> <div class=container> <div class=visible-print-block>Semiversus | Register</div> <ol class="breadcrumb hidden-print"><li><a href=https://www.semiversus.com/dic/uebersicht.html>Unterrichtsmaterial</a></li><li><a href=https://www.semiversus.com/dic/programmierbare_logik/uebersicht.html>Programmierbare Logik</a></li><li><strong>Register</strong></li></ol><nav class=hidden-print><ul class=pager> <li class=previous><a href=https://www.semiversus.com/dic/programmierbare_logik/process.html>&larr; Process-Statement</a></li><li class=next><a href=https://www.semiversus.com/dic/programmierbare_logik/synchronisierung.html>Synchronisierung asynchroner Signale &rarr;</a></li></ul></nav> <div class=row> <div class=col-md-8 role=main> <header><h1>Register<div class="pull-right hidden-print"><a href=https://www.semiversus.com/dic/programmierbare_logik/register.md class="btn btn-default btn-xs" data-toggle=tooltip data-placement=bottom title="Quelltext zu dieser Seite">Quelltext</a></div></h1></header> <h2 id=allgemeines>Allgemeines</h2> <p>Register dienen in der Digitaltechnik dazu, Werte zu speichern. Register k&ouml;nnen durch verschiedene Arten von Flip-Flops realisiert werden (siehe <a href=https://www.semiversus.com/dic/grundlagen_der_digitaltechnik/sequentielle_logik.html>sequentielle Logik</a>).</p> <h2 id=register-mit-reset>Register mit Reset</h2> <div class="panel panel-info"> <div class=panel-heading>Name f&uuml;r das Reset Signal</div> <div class=panel-body> <p>Wie beim Taktsignal steht es dem Entwickler frei, einen Namen f&uuml;r das Resetsignal zu w&auml;hlen. In der Praxis wird meist <code>`</code> oder <code>reset</code> verwendet. Je nach Anwendung kann es <em>high</em>- oder <em>low</em>-aktiv sein. Bei <em>low</em>-aktiven Resets wird meist ein Postfix verwendet, der darauf hindeutet (z.B. <code>rst_n</code> f&uuml;r <em>NOT</em>).</p> </div> <div class=panel-body> <p>In diesem Skriptum wird das Resetsignal mit <code>rst</code> bezeichnet und ist bei <em>High</em> aktiv.</p> </div> </div> <h3 id=mit-asynchronem-reset>Mit asynchronem Reset</h3> <div class=codehilite><pre><span></span><span class=k>library</span> <span class=nn>ieee</span> <span class=p>;</span>
<span class=k>use</span> <span class=nn>ieee.std_logic_1164.</span><span class=k>all</span><span class=p>;</span>

<span class=k>entity</span> <span class=nc>dff</span> <span class=k>is</span>
  <span class=k>port</span><span class=p>(</span>
    <span class=n>clk</span><span class=o>:</span> <span class=k>in</span> <span class=kt>std_ulogic</span><span class=p>;</span>
    <span class=n>rst</span><span class=o>:</span> <span class=k>in</span> <span class=kt>std_ulogic</span><span class=p>;</span>
    <span class=n>data_i</span><span class=o>:</span> <span class=k>in</span> <span class=kt>std_ulogic</span><span class=p>;</span>
    <span class=n>data_o</span><span class=o>:</span> <span class=k>out</span> <span class=kt>std_ulogic</span>
  <span class=p>);</span>
<span class=k>end</span> <span class=k>entity</span><span class=p>;</span>

<span class=k>architecture</span> <span class=nc>behave</span> <span class=k>of</span> <span class=nc>dff</span> <span class=k>is</span>
<span class=k>begin</span>
    <span class=k>process</span><span class=p>(</span><span class=n>rst</span><span class=p>,</span> <span class=n>clk</span><span class=p>)</span>
    <span class=k>begin</span>
      <span class=k>if</span> <span class=n>rst</span><span class=o>=</span><span class=sc>'1'</span> <span class=k>then</span>
        <span class=n>data_o</span> <span class=o>&lt;=</span> <span class=sc>'0'</span><span class=p>;</span>
      <span class=k>elsif</span> <span class=n>rising_edge</span><span class=p>(</span><span class=n>clk</span><span class=p>)</span> <span class=k>then</span>
        <span class=n>data_o</span> <span class=o>&lt;=</span> <span class=n>data_i</span><span class=p>;</span>
      <span class=k>end</span> <span class=k>if</span><span class=p>;</span>
    <span class=k>end</span> <span class=k>process</span><span class=p>;</span>
<span class=k>end</span> <span class=k>architecture</span><span class=p>;</span>
</pre></div> <p>Dem taktflanken getriggerten D FlipFlop wurde ein asynchroner Reset hinzugef&uuml;gt. <code>rst</code> wurde der Sensitivit&auml;tsliste hinzugef&uuml;gt, d.h. der <code>process</code> wird auch f&uuml;r &Auml;nderungen an <code>rst</code> getriggert. Innerhalb des <code>process</code> wird zuerst <code>rst</code> ausgewertet und erst dann auf eine steigende Taktflanke &uuml;berpr&uuml;ft.</p> <p><img alt="D-Flipflop mit asynchronem Reset" src=https://www.semiversus.com/dic/programmierbare_logik/dff_async.svg></p> <h3 id=mit-synchronem-reset>Mit synchronem Reset</h3> <p>In diesem Beispiel soll der Zustand nur bei einer steigenden Taktflanke von <code>clk</code> und bei <code>rst</code> auf <code>1</code> zur&uuml;clgesetzt werden. Das Zur&uuml;cksetzen erfolgt also synchron zum Takt.</p> <div class=codehilite><pre><span></span><span class=k>library</span> <span class=nn>ieee</span> <span class=p>;</span>
<span class=k>use</span> <span class=nn>ieee.std_logic_1164.</span><span class=k>all</span><span class=p>;</span>

<span class=k>entity</span> <span class=nc>dff</span> <span class=k>is</span>
  <span class=k>port</span><span class=p>(</span>
    <span class=n>clk</span><span class=o>:</span> <span class=k>in</span> <span class=kt>std_ulogic</span><span class=p>;</span>
    <span class=n>rst</span><span class=o>:</span> <span class=k>in</span> <span class=kt>std_ulogic</span><span class=p>;</span>
    <span class=n>data_i</span><span class=o>:</span> <span class=k>in</span> <span class=kt>std_ulogic</span><span class=p>;</span>
    <span class=n>data_o</span><span class=o>:</span> <span class=k>out</span> <span class=kt>std_ulogic</span>
  <span class=p>);</span>
<span class=k>end</span> <span class=k>entity</span><span class=p>;</span>

<span class=k>architecture</span> <span class=nc>behave</span> <span class=k>of</span> <span class=nc>dff</span> <span class=k>is</span>
<span class=k>begin</span>
    <span class=k>process</span><span class=p>(</span><span class=n>clk</span><span class=p>)</span>
    <span class=k>begin</span>
      <span class=k>if</span> <span class=n>rising_edge</span><span class=p>(</span><span class=n>clk</span><span class=p>)</span> <span class=k>then</span>
        <span class=k>if</span> <span class=n>rst</span><span class=o>=</span><span class=sc>'1'</span> <span class=k>then</span>
          <span class=n>data_o</span> <span class=o>&lt;=</span> <span class=sc>'0'</span><span class=p>;</span>
        <span class=k>else</span>
          <span class=n>data_o</span> <span class=o>&lt;=</span> <span class=n>data_i</span><span class=p>;</span>
        <span class=k>end</span> <span class=k>if</span><span class=p>;</span>
      <span class=k>end</span> <span class=k>if</span><span class=p>;</span>
    <span class=k>end</span> <span class=k>process</span><span class=p>;</span>
<span class=k>end</span> <span class=k>architecture</span><span class=p>;</span>
</pre></div> <p>Die Sensitivity List besteht nur mehr aus dem <code>clk</code> Signal. Bei einer steigenden Taktflanke wird ausgewertet, ob <code>rst</code> gleich <code>1</code> ist. Wenn dies der Fall ist, wird der interne Zustand <code>data_o</code> auf <code>0</code> gesetzt, ansonsten wird der Wert von <code>data_i</code> &uuml;bernommen.</p> <p><img alt="D-Flipflop mit synchronem Reset" src=https://www.semiversus.com/dic/programmierbare_logik/dff_sync.svg></p> <h3 id=mittels-initialisierung>Mittels Initialisierung</h3> <p>In FPGAs l&auml;sst sich der Zustand eines FlipFlops nach einem Ein-Ausschalt Zyklus auch durch die Initialisierung des entsprechenden Signals realisieren. Das Register h&auml;lt dann den entsprechenden Initialisierungswert, nachdem der FPGA sein Design geladen.</p> <div class=codehilite><pre><span></span><span class=k>architecture</span> <span class=nc>behave</span> <span class=k>of</span> <span class=nc>dff</span> <span class=k>is</span>
  <span class=k>signal</span> <span class=n>d_reg</span> <span class=o>:</span> <span class=kt>std_ulogic</span> <span class=o>:=</span> <span class=sc>'0'</span><span class=p>;</span>
<span class=k>begin</span>
    <span class=k>process</span><span class=p>(</span><span class=n>clk</span><span class=p>)</span>
    <span class=k>begin</span>
      <span class=k>if</span> <span class=n>rising_edge</span><span class=p>(</span><span class=n>clk</span><span class=p>)</span> <span class=k>then</span>
        <span class=n>d_reg</span> <span class=o>&lt;=</span> <span class=n>data_i</span><span class=p>;</span>
      <span class=k>end</span> <span class=k>if</span><span class=p>;</span>
    <span class=k>end</span> <span class=k>process</span><span class=p>;</span>

    <span class=n>data_o</span> <span class=o>&lt;=</span> <span class=n>d_reg</span><span class=p>;</span>
<span class=k>end</span> <span class=k>architecture</span><span class=p>;</span>
</pre></div> </div> <div class=col-md-4 role=complementary> <nav class="well well-sm" data-spy=affix data-offset-top=0 id=sidebar> <ul class=nav><li><a href=#allgemeines>Allgemeines</a></li><li><a href=#register-mit-reset>Register mit Reset</a><ul class=nav><li><a href=#mit-asynchronem-reset>Mit asynchronem Reset</a></li><li><a href=#mit-synchronem-reset>Mit synchronem Reset</a></li><li><a href=#mittels-initialisierung>Mittels Initialisierung</a></li></ul></li></ul> </nav> </div> </div> </div> </div> <footer class="footer hidden-print"><div class=container><p class="text-muted credit">Günther Jena 2011 - 2020 | Letztes Update am 20.9.2020 (Rev. <a href=https://github.com/semiversus/semiversus.github.io-source/commit/ffdbb85>ffdbb85</a>) <a href=https://plus.google.com/111972313670421914746/about rel=author class=hidden>Google+</a><a href=https://creativecommons.org/licenses/by-sa/3.0/de/ class=pull-right><img src=https://www.semiversus.com/theme/img/cc_by_sa.svg alt="Licence CC-BY-SA"></a></p></div></footer> <script type=text/javascript>
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.src = 'https:' == document.location.protocol ? 'https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML' : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; 
        s[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" + 
            "    config: ['MMLorHTML.js']," + 
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS','output/NativeMML']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," + 
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    tex2jax: { " +
            "        inlineMath: [ ['%%','%%'] ], " +
            "        processEscapes: false }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax .mo, .MathJax .mi': {color: 'black ! important'}} " +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(s);
    </script> </body> </html>